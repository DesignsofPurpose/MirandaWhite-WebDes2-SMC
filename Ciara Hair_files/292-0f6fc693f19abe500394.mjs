(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[292],{"0wMd":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var s=n("Ye/N");function i(){return s.a._("Conversions","[m10n]business.conversions.title","[m10n] Header for conversions page")}function r(){return s.a._("Manage your Pinterest tags with the help of our conversions page.","[m10n]business.conversions.title","[m10n] Page for managing users and their permissions")}},"7a0c":function(e,t,n){function s(e,t,n){const s=e.filter(e=>0===e.hidden_for&&e.pin&&e.user.id!==t&&(n?e.source_type===n:"try"===e.source_type||"pin_comment"===e.source_type)),i={},r=[];return s.forEach(e=>{if(e.pin){var t,n;const s=e.pin.id,a=s&&`${s} - ${e.source_type}`,c=(null===(t=e.pin.aggregated_pin_data)||void 0===t?void 0:t.comment_count)||0,o=(null===(n=e.pin.aggregated_pin_data)||void 0===n?void 0:n.aggregated_stats.done)||0;("pin_comment"===e.source_type&&c>0||"try"===e.source_type&&o>0||"pin_comment"!==e.source_type&&"try"!==e.source_type)&&(i[a]||(r.push(e),i[a]=!0))}}),r}function i(e,t){return t.filter(t=>{var n;return t.source_type===e.source_type&&t.pin&&t.pin.root_pin_id===(null===(n=e.pin)||void 0===n?void 0:n.root_pin_id)})}function r(e){const t=[],n={};return e.forEach(e=>{if(e.pin){const s=`${e.pin.root_pin_id} - ${e.source_type}`;n[s]||(t.push(e),n[s]=!0)}}),t}n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))},"99Ai":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const s="ProPartnerHeaderMenuList",i="proPartnerHeaderMenuItem",r=1},BT4Z:function(e,t,n){n.d(t,"a",(function(){return g}));var s=n("q1tI"),i=n("Ye/N"),r=n("ZtJp"),a=n("7w6Q"),c=n("TgLd"),o=n("eOdZ"),d=n("rYoy"),l=n("U4JR"),u=n("vvax"),b=n("n6mq"),h=n("c50B"),j=n("nKUr");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=Object(s.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));class g extends s.Component{constructor(...e){super(...e),m(this,"state",{emailAddress:"",emailErrors:[],copyLink:"",copyLinkErrors:[],disableSend:!0,isSending:!1,showLegalText:!1}),m(this,"validators",{emailAddress:[Object(h.e)({message:i.a._("Not a valid email","[m10n] Validation error when a email input is not valid","email not valid error messages")})]}),m(this,"componentDidMount",()=>{Object(l.b)(120,{component:13537}),a.a.increment("client.partner.referral.create_copy_link.attempt",1);const{senderId:e,senderAdvertiserId:t}=this.props;o.a.create("ReferralCreateCopyLinkResource",{senderId:e,senderAdvertiserId:t}).callCreate().then(({resource_response:e}={})=>{a.a.increment("client.partner.referral.create_copy_link.success",1),this.setState({copyLink:e.data})}).catch(()=>{a.a.increment("client.partner.referral.create_copy_link.error",1),this.setState({copyLinkErrors:[i.a._("Sorry! Something went wrong on our end.","error message for failed email send","error message to display")]})})}),m(this,"handleEmailChange",({value:e})=>{const t=Object(h.r)(this.validators.emailAddress,e);this.setState({emailAddress:e,emailErrors:t}),Boolean(0===t.length&&!!e)?this.setState({disableSend:!1}):this.setState({disableSend:!0})}),m(this,"handleSend",()=>{const{senderId:e,senderAdvertiserId:t}=this.props;a.a.increment("client.partner.referral.create.attempt",1),Object(l.b)(101,{component:13537,element:103}),this.setState({isSending:!0});o.a.create("ReferralCreateResource",{senderId:e,senderAdvertiserId:t,receiverEmails:this.state.emailAddress}).callCreate().then(()=>{a.a.increment("client.partner.referral.create.success",1),this.setState({emailAddress:"",disableSend:!0,isSending:!1})}).catch(()=>{a.a.increment("client.partner.referral.create.error",1),this.setState({emailErrors:[i.a._("Sorry! Something went wrong on our end.","error message for failed email send","error message to display")],isSending:!1})})}),m(this,"toggleLegalText",()=>{const e=this.state.showLegalText;this.setState({showLegalText:!e})}),m(this,"logCopyLinkClick",()=>{a.a.increment("client.partner.referral.copy_link.click",1)})}render(){const{onDismiss:e}=this.props,{copyLink:t,copyLinkErrors:n,emailAddress:s,emailErrors:a,disableSend:o,isSending:l,showLegalText:h}=this.state,m=i.a._("Copy link","web.referral_modal.copy_link","Text for copying referral link");return Object(j.jsx)(b.y,{children:Object(j.jsxs)(c.b,{accessibilityModalLabel:i.a._("Partner referral modal","Accessibility label for modal to input referral receiver email","Modal for referring a friend to pinterest ads"),footer:Object(j.jsxs)(b.e,{children:[Object(j.jsxs)(b.e,{alignItems:"center",column:12,display:"flex",justifyContent:"center",paddingX:8,children:[Object(j.jsx)(b.e,{"data-test-id":"referral-modal-close",flex:"shrink",paddingX:4,children:Object(j.jsx)(b.f,{color:"gray",onClick:e,text:i.a._("Cancel","Button label for cancelling the modal","exit the modal")})}),Object(j.jsxs)(b.e,{"data-test-id":"referral-email-sending",flex:"shrink",children:[l&&Object(j.jsx)(b.f,{color:"gray",disabled:!0,text:i.a._("Sending","Button label waiting to send state","Sending status")}),!l&&o&&Object(j.jsx)(b.f,{color:"gray",disabled:!0,text:i.a._("Send invite","Button label for sending invite","Send invite submit button disabled")}),!l&&!o&&Object(j.jsx)(b.f,{color:"red",onClick:this.handleSend,text:i.a._("Send invite","Button label for sending invite","Send invite submit button enabled")})]})]}),Object(j.jsx)(b.e,{children:h&&Object(j.jsx)(b.e,{marginStart:2,marginTop:3,children:Object(j.jsx)(b.Y,{size:"sm",children:i.a._("By continuing, you agree to Pinterestâ€™s Business Terms of Service, and acknowledge our Privacy Policy. A referral sender can receive $100 in ads credit for each new advertiser the sender refers through this offer who spends at least $30 on their first Pinterest ads within 30 days of claiming the offer, using the referral senderâ€™s invitation. The referral receiver can receive $100 in ads credit after they spend $30 on Pinterest ads within 30 days of claiming the offer. Maximum ads credits referral senders can receive is $600; referral receivers can receive a maximum of $100. You cannot refer yourself. Ads credits expire after 90 days after credited to your account. May not be combined with other offers. U.S. only. Must be 18+. Pinterest reserves the right to cancel or modify offer at any time.","detailed legal terms and conditions","additional legal text")})})})]}),onDismiss:e,size:"sm",children:[Object(j.jsxs)(b.e,{direction:"column",display:"flex",paddingX:8,children:[Object(j.jsx)(b.e,{alignItems:"center",marginBottom:4,marginTop:8,paddingX:5,children:Object(j.jsx)(b.t,{align:"center",size:"md",children:i.a._("Give $100, get $100 in ads credit","Header for the referral modal","heading section")})}),Object(j.jsx)(b.e,{alignItems:"center",display:"flex",marginBottom:6,children:Object(j.jsx)(b.Y,{align:"center",children:i.a._("When your friend spends their first $30 on ads, you'll earn $100 of ads credit, and they'll get $100 of ads credit, too*","description for referral offer","referral modal body text")})}),Object(j.jsx)(b.e,{children:Object(j.jsxs)(b.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#D7EDFF"}},display:"flex",justifyContent:"center",padding:3,rounding:3,children:[Object(j.jsx)(r.a,{backgroundColor:"transparent",iconColor:"#003C96",size:32}),Object(j.jsx)(b.e,{alignItems:"center",justifyContent:"center",children:Object(j.jsx)(b.Y,{children:i.a._("Share your unique link","web.referral_modal.share_link_text","Telling referral sender how to share link within referral modal")})}),Object(j.jsx)(b.e,{alignItems:"center",justifyContent:"center",width:"100px",marginStart:2,children:Object(j.jsx)(d.a,{fallback:Object(j.jsx)(b.f,{disabled:!0,inline:!0,text:m}),children:Object(j.jsx)(p,{onCopy:this.logCopyLinkClick,text:t,children:Object(j.jsx)(b.f,{disabled:n.length>0,size:"md",text:i.a._("Copy link","web.referral_modal.copy_link","Text for copying referral link")})})})})]})}),Object(j.jsx)(b.e,{alignSelf:"center",marginBottom:3,marginTop:3,children:Object(j.jsx)(b.Y,{weight:"bold",children:i.a._("OR","web.referral_modal.word_divider","The word 'or' between email and copy link sections")})}),Object(j.jsx)(b.e,{children:Object(j.jsx)(b.ab,{errorMessage:a&&a.join(", "),id:"emailField",label:i.a._("Email addresses","label for email input","title"),name:"email-address-textbox",onChange:this.handleEmailChange,placeholder:i.a._("Invite by email","email prompt","email address textbox default text"),size:"lg",type:"email",value:s||""})})]}),Object(j.jsx)(b.e,{display:"flex",marginTop:5,paddingX:8,children:Object(j.jsx)(b.Y,{align:"center",inline:!0,size:"sm",children:Object(u.b)(i.a._("*Limited time and maximum credit limits apply. US only. {{ additionalTerms }}","terms text heading","preview of terms"),{additionalTerms:Object(j.jsx)(b.e,{display:"inlineBlock",paddingY:1,children:Object(j.jsx)(b.X,{fullWidth:!1,onTap:this.toggleLegalText,children:Object(j.jsx)(b.Y,{inline:!0,size:"sm",weight:"bold",children:i.a._("Additional terms apply","more terms option","click for more terms")})})},"additionalTermsModal")})})})]})})}}},HhbH:function(e,t,n){n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return A}));var s=n("q1tI"),i=n("/MKj"),r=n("ogRn"),a=n("c4Fo"),c=n("3RuK"),o=n("Ye/N"),d=n("kmwA"),l=n("2qKt"),u=n("ANjH"),b=n("L2iP"),h=n("zXAL"),j=n("7a0c"),m=n("n6mq"),p=n("w70y"),g=n("nKUr");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=60,x=500896,f=1000109;class _ extends s.PureComponent{constructor(e){super(e),O(this,"setTooltipAnchor",e=>{e&&this.setState({tooltipAnchor:e})}),O(this,"getUnreadInteractionCount",()=>{const{interactions:e,nativeInteractions:t,viewer:n}=this.props;if(null!=t&&t.data){return t.data.results.filter(e=>!e.seen).length}if(null==e||!e.isLoaded||!e.data)return 0;return Object(j.b)(e.data,n.isAuth?n.id:"").filter(e=>!e.seen).length}),O(this,"handleDismiss",()=>{this.setState({isTooltipOpen:!1})}),O(this,"handleCompleteExperience",()=>{const{experience:e,experienceClient:t}=this.props;e&&e.experience_id===x&&t.completeExperience(f,x),this.handleDismiss()});const{experience:t}=e;this.state={isTooltipOpen:t&&t.experience_id===x}}componentDidMount(){const{experience:e,selected:t}=this.props;t&&e&&e.experience_id===x&&this.handleCompleteExperience()}componentDidUpdate(e){const{nativeInteractions:t,selected:n}=this.props;e.selected!==n&&t&&t.refreshData()}render(){const{compactMode:e,isWwwSite:t,selected:n}=this.props,{isTooltipOpen:s,tooltipAnchor:i}=this.state,l=i&&Object(g.jsx)(a.a,{experienceIds:[x],placementId:f,children:Object(g.jsx)(m.I,{showCaret:!0,anchor:i,color:"blue",idealDirection:"down",onDismiss:this.handleCompleteExperience,shouldFocus:!1,size:"sm",children:Object(g.jsx)(m.e,{padding:3,children:Object(g.jsx)(m.Y,{color:"white",overflow:"normal",weight:"bold",children:o.a._("Meet your community! Click to see and respond to @mentions and comments on your Pins.","engagement.engagementTab.tooltip","Tooltip introducing the Engagement tab, an interface that allows creators to engage with pinners who interact with their pins")})})})}),u=n?0:this.getUnreadInteractionCount();return Object(g.jsxs)(m.e,{position:"relative",children:[Object(g.jsx)(m.e,{ref:this.setTooltipAnchor,children:Object(g.jsx)(c.a,{accessibilityLabel:o.a._("Manage comments and social activity","Tab to access engagement","Tab to access engagement"),compactMode:e,contextData:{event:101,component:8,element:10804},icon:Object(g.jsx)(r.a,{count:u,accessibilityLabel:"",color:n?"darkGray":"gray",icon:"megaphone",iconSize:b.b}),onClick:this.handleCompleteExperience,text:o.a._("Engagement","visual label for engagement tab icon in nav bar","visual label for engagement tab icon in nav bar"),selected:n,url:t?d.a.settings.ENGAGEMENT_URL:d.a.settings.CANONICAL_ENGAGEMENT_URL},"EngagementButton")}),s&&!n&&l]})}}const S=Object(u.compose)(Object(i.connect)(({viewer:e})=>({viewer:e}),()=>({})),h.a,Object(l.a)(f),Object(p.b)({name:"InteractionsResource",key:"interactions",options:({viewer:e})=>({use_mock_data:!1,domain_name:e.domainVerified&&e.domainUrl||e.domain_verified&&e.domain_url})}))(_),A=Object(u.compose)(Object(i.connect)(({viewer:e})=>({viewer:e}),()=>({})),h.a,Object(l.a)(f),Object(p.b)({name:"NativeInteractionsResource",key:"nativeInteractions",options:({viewer:e})=>({use_mock_data:!1,page_size:y,username:e.username})}))(_)},Q8QS:function(e,t,n){n.r(t),n.d(t,"ProPartnerHeader",(function(){return Xe}));var s=n("q1tI"),i=n("/MKj"),r=(n("ZcPj"),n("FCI/")),a=n("Ye/N"),c=n("Ua9r"),o=n("kmwA"),d=n("0wMd"),l=n("d90F"),u=n("iAhy"),b=n("uoE/");const h="ACTIVE",j="APPLIED",m="ARCHIVED",p="PROPOSED";var g=n("znyv");var O=n("qvkv"),y=n("99Ai"),x=n("pLLR"),f=n("n6mq"),_=n("nKUr");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends s.PureComponent{constructor(...e){var t;super(...e),t=this,S(this,"getCreateCampaignUrl",()=>{const{advertiser:e,isAdsSite:t=!1,isAnalyticsSite:n=!1,isTrendsSite:s=!1,isShoppingCatalogs:i}=this.props;return Object(O.c)({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,baseUrl:c.a.getSterlingURL("create"),isShoppingCatalogs:i})}),S(this,"handlePromoteClick",e=>{e.preventDefault();const{onItemClick:t}=this.props,n=this.getCreateCampaignUrl();Object(O.b)(10613,t),Object(g.a)(),window.location.assign(n)}),S(this,"isActionPermitted",e=>{const{advertiser:t}=this.props;return!t||Object(b.a)((t||{}).actions||[],e)}),S(this,"saveRecommendationsPageAccess",()=>{const e=new r.default,{advertiser:t}=this.props;e.post("/ads/v3/preferences/",{level:"ADVERTISER",key:"STERLING_RECOMMENDATIONS_PAGE_ACCESS",preferences:JSON.stringify(!0),advertiser_id:null==t?void 0:t.id})}),S(this,"checkRecommendationsPageAccess",(async function(){const e=new r.default,{advertiser:n,guidanceRecommendationsPageAccess:s,setPageAccess:i,requestContext:a}=t.props;if(!n||s)return;const c=(await e.get("/ads/v3/preferences/",{level:"ADVERTISER",key:"STERLING_RECOMMENDATIONS_PAGE_ACCESS",advertiser_id:n.id})).ADVERTISER,o=c.length&&c[0].preferences,{anyEnabled:d}=a.experiments.getWithoutActivation("ads_manager_sales_recommendation_preview_page"),l=d?[p]:[];if(!0===o)i(!0);else{const s=await e.get("/ads/internal/notification_messages/RECOMMENDATIONS/",{advertiser_id:n.id,page_size:1,lifecycle_statuses:[h,j,m,...l]});null!=s&&s.length&&(i(!0),t.saveRecommendationsPageAccess())}}))}componentDidMount(){this.checkRecommendationsPageAccess()}render(){const{advertiser:e,guidanceRecommendationsPageAccess:t,isAdsSite:n=!1,isAnalyticsSite:s=!1,isTrendsSite:i=!1,onItemClick:r,isShoppingCatalogs:b}=this.props;return Object(_.jsxs)("ul",{className:y.c,children:[this.isActionPermitted(15)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10613,href:this.getCreateCampaignUrl(),onClick:this.handlePromoteClick,children:a.a._("Create ad","proPartnerHeader.adsMenuContent.createAdMenuItem","Create ad button in ads dropdown menu")})},"create_flow_list_button_create_ad"),this.isActionPermitted(11)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10084,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/",isShoppingCatalogs:b}),onClick:Object(O.b)(10084,r),children:a.a._("Overview","proPartnerHeader.adsMenuContent.overviewMenuItem","Overview button in ads dropdown menu")})},"/"),this.isActionPermitted(11)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10304,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:c.a.getSterlingURL("reporting"),isShoppingCatalogs:b}),onClick:Object(O.b)(10304,r),children:a.a._("Reporting","proPartnerHeader.adsMenuContent.reportingMenuItem","Reporting button in ads dropdown menu")})},"reporting"),this.isActionPermitted(11)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":11718,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:c.a.getSterlingURL("report_history"),isShoppingCatalogs:b}),onClick:Object(O.b)(11718,r),children:a.a._("Custom reports","proPartnerHeader.adsMenuContent.customReportsMenuItem","Custom reports button in ads dropdown menu")})},"custom_reports"),this.isActionPermitted(9)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10090,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/bulk_editor/",isShoppingCatalogs:b}),onClick:Object(O.b)(10090,r),children:a.a._("Bulk editor","proPartnerHeader.adsMenuContent.bulkEditorMenuItem","Bulk editor button in ads dropdown menu")})},"bulk_editor"),Object(_.jsx)(l.a,{name:"web_tag_business",activate:!1,children:({anyEnabled:t})=>this.isActionPermitted(35)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10091,href:t?Object(u.a)({isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,path:"/business/conversions/tag/"+(e?"?advertiserId="+e.id:"")}):Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/conversions/tag/",isShoppingCatalogs:b}),onClick:Object(O.b)(10091,r),children:Object(d.b)()})},"conversions")}),this.isActionPermitted(32)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10171,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:c.a.getSterlingURL("audiences"),isShoppingCatalogs:b}),onClick:Object(O.b)(10171,r),children:a.a._("Audiences","proPartnerHeader.adsMenuContent.audiencesMenuItem","Audiences button in ads dropdown menu")})},"audiences"),this.isActionPermitted(54)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10305,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/history/",isShoppingCatalogs:b}),onClick:Object(O.b)(10305,r),children:a.a._("Ad account history","proPartnerHeader.adsMenuContent.adAccountHistoryMenuItem","Ad Account History button in ads dropdown menu")})},"history"),this.isActionPermitted(56)&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10103,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/billing/",isShoppingCatalogs:b}),onClick:Object(O.b)(10103,r),children:a.a._("Billing","proPartnerHeader.adsMenuContent.billingMenuItem","Billing button in ads dropdown menu")})},"billing"),Object(_.jsx)(l.a,{name:"ads_keyword_planner_ui",activate:!1,children:({anyEnabled:t})=>this.isActionPermitted(9)&&t&&Object(_.jsx)("li",{children:Object(_.jsxs)("a",{className:y.b,"data-element-type":10352,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/keyword_generator/",isShoppingCatalogs:b}),onClick:Object(O.b)(10352,r),children:[Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Keyword generator","proPartnerHeader.adsMenuContent.keywordGeneratorMenuItem","Keyword generator button in ads dropdown menu")}),Object(_.jsx)(f.d,{text:a.a._("Internal","proPartnerHeader.adsMenuContent.keywordGeneratorbadge","Internal badge on Keyword generator button in ads dropdown menu")})]})},"keyword_generator")}),Object(_.jsx)(l.a,{name:"sterling_media_planner",activate:!1,children:({anyEnabled:t})=>t&&Object(_.jsx)("li",{children:Object(_.jsxs)("a",{className:y.b,"data-element-type":11384,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:"/media_planner/",isShoppingCatalogs:b}),onClick:Object(O.b)(11384,r),children:[Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Media Planner","proPartnerHeader.adsMenuContent.mediaPlannerMenuItem","Media planner button in ads dropdown menu")}),Object(_.jsx)(f.d,{text:a.a._("Internal","Media Planner badge text","Media Planner badge text")})]})},"media_planner")}),Object(_.jsx)(l.a,{name:"enable_catalogs",activate:!1,children:({group:t})=>this.isActionPermitted(9)&&"enabled"===t&&Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-element-type":10808,href:`${o.a.settings.CANONICAL_MAIN_URL}/product-catalogs/?advertiserId=${e?e.id:""}`,onClick:Object(O.b)(10808,r),children:a.a._("Catalogs","proPartnerHeader.adsMenuContent.catalogsMenuItem","Catalogs button in ads dropdown menu")})},"product-catalogs")}),t&&Object(_.jsx)("li",{children:Object(_.jsxs)("a",{className:y.b,"data-element-type":11923,href:Object(O.c)({advertiser:e,isAdsSite:n,isAnalyticsSite:s,isTrendsSite:i,baseUrl:c.a.getSterlingURL("recommendations"),isShoppingCatalogs:b}),onClick:Object(O.b)(11923,r),children:[Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Recommendations","proPartnerHeader.adsMenuContent.recommendationsMenuItem","Recommendations button in ads dropdown menu")}),Object(_.jsx)(f.d,{text:a.a._("Beta","proPartnerHeader.adsMenuContent.recommendationsMenuItem.badge","Recommendations badge text")})]})},"recommendations")]})}}function v(e){const t=Object(i.useDispatch)();return Object(_.jsx)(A,{...e,guidanceRecommendationsPageAccess:Object(i.useSelector)(({guidance:e})=>e.guidanceRecommendationsPageAccess),setPageAccess:e=>{t({type:"GUIDANCE_RECOMMENDATIONS_PAGE_ACCESS",payload:e})},requestContext:Object(x.d)()})}var w=n("U4JR");function C({advertiser:e,isAdsSite:t,isAdsNavMenuEnabled:n,isShoppingCatalogs:i}){const r=Object(s.useRef)(null),[c,o]=Object(s.useState)(!1);return(t||n)&&Object(_.jsxs)(f.e,{"data-test-id":"adsButton",paddingX:y.a,ref:r,children:[Object(_.jsx)(f.f,{accessibilityExpanded:!0,accessibilityHaspopup:!0,inline:!0,accessibilityLabel:a.a._("Ads dropdown button","proPartnerHeader.adsMenu.button","Ads menu button"),color:"white",iconEnd:"arrow-down",onClick:()=>o(!c),selected:c,size:"lg",text:a.a._("Ads","proPartnerHeader.adsMenu.title","Ads menu button title")}),c&&Object(_.jsx)(f.I,{anchor:r.current,idealDirection:"down",onDismiss:()=>o(!1),size:"md",children:Object(_.jsx)(v,{advertiser:e,isAdsSite:t,isShoppingCatalogs:i,onItemClick:function(){o(!1),Object(w.b)(101,{component:10039,element:10083})}})})]})}var M=n("zwad"),P=n("w70y"),k=n("QAzJ"),I=n("yM90");function E({advertiser:e,isAnalyticsSite:t,onItemClick:n}){const i=Object(x.d)(),{enabled_advertiser_countries:r}=Object(I.b)(),c=o.a.settings.TRENDS_VALID_COUNTRIES.includes(i.country),{data:d}=Object(P.a)({name:"UserResource",options:{field_set_key:"analytics_content_owner",user_id:i.advertiser&&i.advertiser.owner_user_id}}),{anyEnabled:l}=Object(k.a)("px_ci_q3_features"),u=Object(s.useMemo)(()=>!!i&&((r||[]).includes(i.country)&&(i.advertiser&&i.advertiser.shopify_organic_attribution_enabled||d&&d.is_verified_merchant||l)),[r,i,d,l]),b=!o.a.settings.TRENDS_COUNTRIES_WITH_DATA.includes(i.country),h=n=>{const s=e&&e.id||null,i=t?n:o.a.settings.ANALYTICS_SITE_URL+n;return s?M.a.appendQueryString(i,{advertiserId:s}):i};return Object(_.jsxs)("ul",{className:y.c,children:[Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-test-id":"analyticsOverview",href:h("/overview/"),onClick:Object(O.b)(10094,n),children:a.a._("Overview","proPartnerHeader.analyticsMenuContent.overviewMenuItem","Overview button in analytics dropdown menu")})},"overview"),Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-test-id":"analyticsAudienceInsights",href:h("/audience-insights/"),onClick:Object(O.b)(10411,n),children:a.a._("Audience Insights","proPartnerHeader.analyticsMenuContent.audienceInsightsMenuItem","Audience Insights button in analytics dropdown menu")})},"audience-insights"),u&&Object(_.jsx)("li",{children:Object(_.jsxs)("a",{className:y.b,"data-test-id":"analyticsConversionInsights",href:h("/conversion-insights/"),onClick:Object(O.b)(11560,n),children:[Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Conversion Insights","proPartnerHeader.analyticsMenuContent.conversionInsightsMenuItem","Conversion Insights button in analytics dropdown menu")}),Object(_.jsx)(f.d,{text:a.a._("Beta","analyticsMenuContent.conversionInsightsMenuItem.badge","Badge denoting beta feature")})]})},"conversions"),Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:y.b,"data-test-id":"analyticsVideo",href:h("/overview/video/"),onClick:Object(O.b)(11428,n),children:Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Video","proPartnerHeader.analyticsMenuContent.videoMenuItem","Video button in analytics dropdown menu")})})},"video"),c&&Object(_.jsx)("li",{children:Object(_.jsxs)("a",{className:y.b,"data-test-id":"trends",href:o.a.settings.TRENDS_URL,onClick:Object(O.b)(11655,n),children:[Object(_.jsx)(f.e,{marginEnd:2,children:a.a._("Trends","proPartnerHeader.analyticsMenuContent.trendsMenuItem","Trends button in analytics dropdown menu")}),b&&Object(_.jsx)(f.d,{text:a.a._("New","analyticsMenuContent.trendsMenuItem.badge","Badge denoting new feature")})]})},"trends")]})}function R({advertiser:e,isAdsSite:t,isAnalyticsSite:n,user:i}){const r=Object(s.useRef)(null),[c,o]=Object(s.useState)(!1);const d=i&&i.is_partner;return t||n||d?Object(_.jsxs)(f.e,{"data-test-id":"analyticsButton",paddingX:y.a,ref:r,children:[Object(_.jsx)(f.f,{accessibilityExpanded:!0,accessibilityHaspopup:!0,inline:!0,accessibilityLabel:a.a._("Analytics menu button","proPartnerHeader.analyticsMenu.button","Analytics menu button"),color:"white",iconEnd:"arrow-down",onClick:function(){o(!c),Object(w.b)(101,{component:10039,element:10093})},selected:c,size:"lg",text:a.a._("Analytics","proPartnerHeader.analyticsMenu.title","Analytics menu button title")}),c&&Object(_.jsx)(f.I,{anchor:r.current,idealDirection:"down",onDismiss:()=>o(!1),children:Object(_.jsx)(E,{advertiser:e,isAnalyticsSite:n,onItemClick:()=>{o(!1)}})})]}):null}var T=n("qD10");function L({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,onMenuItemClick:i}){return Object(_.jsxs)("ul",{className:y.c,children:[Object(_.jsx)("li",{children:Object(_.jsx)(T.a,{stopPropagation:!0,className:y.b,"data-test-id":"business-hub",onClick:()=>i("business hub"),to:Object(u.a)({isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,path:"/business/hub"}),children:a.a._("Business hub","proPartnerHeader.businessMenuController.businessMenuContent","Business Hub button in pro partner header business button")})},"business-hub"),Object(_.jsx)("li",{children:Object(_.jsx)(T.a,{stopPropagation:!0,className:y.b,"data-test-id":"homefeed",onClick:()=>i("homefeed"),to:Object(u.a)({isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,path:"/homefeed/"}),children:a.a._("Home feed","proPartnerHeaderPartner.businessMenuController.businessMenuContent","Homefeed button in pro partner header business button")})},"homefeed"),Object(_.jsx)(l.a,{name:"web_tag_business",activate:!1,children:({anyEnabled:r})=>{return c=35,(!e||Object(b.a)((e||{}).actions,c))&&r&&Object(_.jsx)("li",{children:Object(_.jsx)(T.a,{className:y.b,"data-test-id":"conversions",onClick:()=>i("conversions"),to:Object(u.a)({isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,path:"/business/conversions/tag/"+(e?"?advertiserId="+e.id:"")}),children:a.a._("Conversions","proPartnerHeader.businessMenuContent.conversionsMenuItem","Conversions button in business dropdown menu")})},"conversions");var c}}),Object(_.jsx)(l.a,{name:"web_creator_class",activate:!1,children:({anyEnabled:e})=>e&&Object(_.jsx)("li",{children:Object(_.jsx)(T.a,{stopPropagation:!0,className:y.b,"data-test-id":"creator-class",onClick:()=>i("creator classes"),to:Object(u.a)({isAdsSite:t,isAnalyticsSite:n,isTrendsSite:s,path:"/creator-class/"}),children:a.a._("Classes","proPartnerHeaderPartner.businessMenuController.businessMenuContent","Creator classes button in pro partner header business button")})},"creator-class")})]})}function N({advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:r}){const c=Object(s.useRef)(null),[o,d]=Object(s.useState)(!1),[l,u]=Object(s.useState)(!1),{isInBiznuxFullscreen:b}=Object(i.useSelector)(({businessNux:e})=>e);let h="transparent";return o?h="#111111":l&&(h="#F0F0F0"),Object(_.jsx)(f.e,{paddingX:y.a,ref:c,children:Object(_.jsx)(f.X,{onMouseEnter:()=>u(!l),onMouseLeave:()=>u(!l),onTap:()=>{d(!o),Object(w.b)(101,{element:11806})},rounding:"pill",disabled:!!b,children:Object(_.jsxs)(f.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:h}},display:"flex",minHeight:48,padding:2,rounding:"pill",children:[Object(_.jsx)(f.e,{paddingX:1,children:Object(_.jsx)(f.u,{accessibilityLabel:a.a._("Pinterest","proPartnerHeader.partnerBadge.pinterestIcon","Pinterest icon"),color:o?"white":"red",icon:"pinterest",size:24})}),Object(_.jsx)(f.e,{paddingX:1,children:Object(_.jsx)(f.Y,{color:o?"white":"darkGray",weight:"bold",children:a.a._("Business","proPartnerHeader.partnerBadge","Pinterest Business partner badge")})}),!b&&Object(_.jsx)(f.e,{paddingX:1,children:Object(_.jsx)(f.u,{accessibilityLabel:a.a._("Business badge dropdown menu button","proPartnerHeader.partnerBadge.dropdownIcon","Chevron arrow in pro partner header business button"),color:o?"white":"darkGray",icon:"arrow-down",size:12})}),o&&Object(_.jsx)(f.I,{anchor:c.current,idealDirection:"down",onDismiss:()=>d(!1),children:Object(_.jsx)(L,{advertiser:e,isAdsSite:t,isAnalyticsSite:n,isTrendsSite:r,onMenuItemClick:e=>{let t;d(!1),u(!1),"business hub"===e?t=11808:"homefeed"===e&&(t=11807),Object(w.b)(101,{element:t})}})})]})})})}var H=n("onpz"),D=n("YGxj"),U=n("bxss"),B=n("zXAL"),z=n("2qKt"),F=n("ANjH");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y=1000109;class G extends s.PureComponent{constructor(...e){super(...e),q(this,"state",{CreateMenuContent:null,CreateMenuModals:null,showReportBug:!1,showStoryPinAccess:!1,StoryPinAccessModal:null,showFlyout:!1}),q(this,"buttonRef",Object(s.createRef)()),q(this,"containerRef",Object(s.createRef)()),q(this,"mounted",!1),q(this,"showReportBugModal",()=>{this.setState({showReportBug:!0,showFlyout:!1})}),q(this,"clearModal",()=>{this.setState({showReportBug:!1,showStoryPinAccess:!1,showFlyout:!1})}),q(this,"hideFlyout",()=>{this.setState({showFlyout:!1})}),q(this,"canRender",()=>{const{isAuthenticated:e,user:t}=this.props,n=t&&t.is_partner;return e&&n}),q(this,"handleStoryPinRequestAccessMenuItemClick",()=>{Object(w.b)(101,{component:10039,element:12231}),this.setState({showStoryPinAccess:!0,showFlyout:!1})}),q(this,"handleClick",()=>{const{experience:e,experienceClient:t}=this.props,{showFlyout:n}=this.state;Object(w.b)(101,{component:10039,element:10064}),!n&&e&&t.completeExperience(Y,e.experience_id),this.setState(e=>({showFlyout:!e.showFlyout}))})}componentDidMount(){this.mounted=!0,this.canRender()&&(Promise.all([n.e(118),n.e(216),n.e("CreateMenuContentCommon")]).then(n.bind(null,"g865")).then(e=>{this.mounted&&this.setState({CreateMenuContent:e.default})}),n.e("CreateMenuModalsCommon").then(n.bind(null,"f6yG")).then(e=>{this.mounted&&this.setState({CreateMenuModals:e.default})}),Promise.resolve().then(n.bind(null,"ljoO")).then(e=>{this.mounted&&this.setState({StoryPinAccessModal:e.default})}))}componentWillUnmount(){this.mounted=!1}render(){const{isSterlingOnSteroids:e,user:t}=this.props,{CreateMenuContent:n,CreateMenuModals:i,showFlyout:r,showReportBug:c,showStoryPinAccess:o,StoryPinAccessModal:d}=this.state;let l=null;return e&&({outline:0}.backgroundColor="transparent"),this.canRender()&&(l=Object(_.jsxs)(f.e,{ref:this.containerRef,children:[Object(_.jsx)(f.e,{"data-test-id":"pro-partner-header-create-menu",paddingX:y.a,ref:this.buttonRef,children:Object(_.jsx)(f.f,{accessibilityExpanded:!0,accessibilityHaspopup:!0,inline:!0,accessibilityLabel:a.a._("Create menu dropdown","proPartnerHeader.createMenu.button","Create menu button showing create options"),color:"white",iconEnd:"arrow-down",onClick:this.handleClick,selected:r,size:"lg",text:a.a._("Create","proPartnerHeader.createMenu.title","create menu dropdown on header navigation bar")})}),r&&n?Object(_.jsx)(U.a,{anchor:this.buttonRef.current,idealDirection:"down",onDismiss:this.hideFlyout,size:"md",children:Object(_.jsx)(n,{...this.props,showReportBugModal:this.showReportBugModal,showStoryPinRequestAccessModal:this.handleStoryPinRequestAccessMenuItemClick,onClick:this.hideFlyout})},"Flyout"):null,i&&c&&Object(_.jsx)(i,{clearModal:this.clearModal,username:t?t.username:null}),d&&o&&Object(_.jsx)(d,{onDismiss:this.clearModal}),!r&&Object(_.jsxs)(s.Fragment,{children:[Object(_.jsx)(D.a,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502449],flyoutSize:"md",idealDirection:"down",placementId:Y,textAlign:"center",textWeight:"normal"}),Object(_.jsx)(D.a,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502545],flyoutSize:"md",idealDirection:"down",placementId:Y,textAlign:"center",textWeight:"normal"}),Object(_.jsx)(D.a,{anchor:this.containerRef.current,experienceIds:[501234],flyoutSize:"md",idealDirection:"down",placementId:Y,textOverflow:"normal"}),Object(_.jsx)(D.a,{anchor:this.containerRef.current,experienceIds:[501923],flyoutSize:"md",fontSize:"sm",idealDirection:"down",placementId:Y,textOverflow:"normal"})]})]})),l}}var W=Object(F.compose)(B.a,Object(z.a)(Y,(e,t)=>({pin_id:e.pinId})))(G);var X=Object(i.connect)((function({viewer:e}){return{username:e&&e.username||""}}),()=>({}))((function({children:e,path:t="",username:n}){const s={bag:"shop_pins",explore:"discover",following:"following",home:"",homefeed:"homefeed",profile:n,search:"search",engagement:"engagement",today:"today"};return e({page:Object.keys(s).find(e=>s[e]===t.split("/",2)[1])})})),$=n("TSYQ"),V=n.n($),K=n("sEfC"),J=n.n(K),Q=n("0Bqi"),Z=n("h4v/"),ee=n("OCob"),te=n("Uq0c"),ne=n("6ajc"),se=n.n(ne),ie=n("s6a/"),re=n("GFC/"),ae=n("WQdw"),ce=n("v/Q4"),oe=n("zRck"),de=n("EC67"),le=n("liz/");function ue({accounts:e,closeFlyout:t,handleAccountRepClick:n,handleAddAccount:s,handleLinkedAccountSwitch:i}){const r=Object(ce.a)(),c=Object(de.h)(),d=r.isAuth&&r.partner&&r.partner.is_linked_business,l=r.isAuth&&e.some(e=>e.businesses.some(e=>e.id===r.id)),u=e.filter(e=>d&&!l&&r.id===e.id||!(e.partner&&e.partner.isLinkedBusiness)),b=se()(u,e=>e.businesses).length>0||u.length>1,h=Object(k.b)("web_identity_add_secondary_account")().anyEnabled,j=u.length<le.a||h;return Object(_.jsx)(f.e,{margin:2,children:Object(_.jsxs)(ie.a,{label:a.a._("Accounts","header.accountsOptionsMenu.accountsHeader","header for accounts section of menu"),children:[b&&Object(_.jsx)(f.e,{role:"list","data-test-id":"header-menu-show-accounts",children:u.map(e=>(e=>{const t=r.isAuth&&r.id===e.id,s=r.isAuth&&e.businesses.some(e=>r.id===e.id),a=t||s;return Object(_.jsx)(ae.a,{childAccounts:a&&e.businesses?e.businesses:null,isCurrentAccount:t,onChildAccountClick:t?i:n,onClick:()=>n(e),user:e},e.id)})(e))}),Object(_.jsx)(f.e,{role:"list",children:j&&Object(_.jsx)(re.a,{dataTestId:"header-menu-add-account",onClick:h?()=>{Object(le.i)("add_account_click",null,oe.b),t(),c.push(o.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)}:s,children:h?a.a._("Add account","header.accountsOptionsMenu.addSecondaryAccountButton","Short text on the button that allows a user to add a new account or log in to another Pinterest account"):a.a._("Add another account","header.accountsOptionsMenu.addAccountButton","Short text on the button that allows a user to log in to another Pinterest account")})})]})})}var be=n("x97A"),he=n("rpal"),je=n("b7nI"),me=n("kJuv"),pe=n("eOdZ");const ge=oe.b;function Oe({closeFlyout:e}){const[t,n]=Object(s.useState)(!1),[r,a]=Object(s.useState)(!1),[c,o]=Object(s.useState)(!1),[d,l]=Object(s.useState)(null),u=Object(ce.a)(),b=Object(i.useSelector)(({linkedAccounts:e})=>e.userAccounts);Object(s.useEffect)(()=>(Object(le.i)("modal.shown"),()=>{Object(le.i)("modal.dismiss")}),[]);const h=(e,t)=>{throw Object(le.e)(e,ge),o(!1),t};return Object(_.jsxs)(s.Fragment,{children:[c&&Object(_.jsx)(je.a,{}),d?Object(_.jsx)(be.a,{failedAccount:d,handleReauthAccount:()=>{Object(le.i)("switch_failure_prompt.login_click",null,ge),l(null),n(!0)},handleRemoveUnauthAccount:e=>{Object(le.i)("switch_failure_prompt.account_removed",{removed_user_id:e},ge),Object(le.h)(e),l(null)}}):Object(_.jsx)(ue,{accounts:b,handleAccountRepClick:e=>{u.isAuth&&e.id!==u.id&&(e=>{const{id:t}=e;o(!0),Object(w.b)(101,{component:13369,element:11196}),Object(le.i)("switch_account_click",{destination_user_id:t},ge);const n={get_user:!0,switch_account:t};Z.a.getInstance().pauseImpressionsAndFlush(),Object(me.a)(n,Object(ee.a)(),{container:"account_switcher"},!0).then((n={})=>{var s,i;if(null!=n&&null!==(s=n.resource_response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.success){const n=Object(te.a)(e);Object(le.f)(n,t,ge)}else Object(le.i)("no_api_access_token",{destination_user_id:t},ge),Object(le.e)(t,ge),l(e),o(!1)},e=>{h(t,e)})})(e)},handleAddAccount:()=>{Object(le.i)("add_account_click",null,ge),n(!0)},handleLinkedAccountSwitch:e=>{const{partner:t}=e;if(o(!0),Object(w.b)(101,{component:13369,element:null!=t&&t.isLinkedBusiness?11195:11194}),Z.a.getInstance().pauseImpressionsAndFlush(),null!=t&&t.isLinkedBusiness){const t={business_id:e.id,get_user:!0};Object(me.a)(t,Object(ee.a)(),{container:"account_switcher"},!0).then(t=>{Object(le.f)("/",e.id,ge)},t=>{h(e.id,t)})}else pe.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{u.isAuth&&(Object(le.h)(u.id),Object(le.f)("/"+e.username,u.id,ge))},e=>{u.isAuth&&h(u.id,e)})},closeFlyout:e}),r&&Object(_.jsx)(he.a,{onDismiss:()=>{a(!1),e()}}),t&&Object(_.jsx)(Q.a,{container:ge,email:(null==d?void 0:d.email)||"",onClose:()=>n(!1)})]})}var ye=n("NVsV"),xe=n("BmGU"),fe=n("iSxJ");function _e(e){const{advertiser:t,closeFlyout:n,isAdsSite:i,isAdsNavMenuEnabled:r,isAnalyticsSite:c,isTrendsSite:d,isManagedAdvertiser:u,isWwwSite:h,onStoryPinRequestAccessMenuItemClick:j,referralModalClick:m,user:p}=e,{canEnableDebugger:g,setDebuggerVisible:O,setDebuggingEnabled:y}=Object(s.useContext)(ye.c),{anyEnabled:x}=Object(k.a)("web_android_ios_story_pin_access"),{anyEnabled:S}=Object(k.a)("web_story_pin_creator"),A=Object(ce.a)(),v=A.isAuth&&!!A.isEmployee,{handleShowReportBugModal:C}=Object(fe.b)(),M=e=>{Object(w.b)(101,{component:8,element:e}),n()},P=h&&!(i||c||d)?"":o.a.settings.CANONICAL_MAIN_URL,I=!!A.isAuth&&A.isPartner;return Object(_.jsxs)(f.e,{margin:2,children:[x&&!S&&Object(_.jsx)(s.Fragment,{children:Object(_.jsx)(re.a,{onClick:j,children:a.a._("Request access to Story Pins","partnerHeader.accountsOptionsMenu.storyPinsRequestAccess","menu item to show upsell modal for requesting story Pins creation access")})}),Object(_.jsxs)(ie.a,{label:a.a._("More options","header.accountsOptionsMenu.optionsHeader","header for options section of menu"),children:[g&&Object(_.jsx)(re.a,{onClick:()=>{O(!0),y(!0),n()},children:a.a._("Show experiment debugger","header.accountsOptionsMenu.experimentDebugger","menu item to show employee-only experiment debugger")}),v&&Object(_.jsx)(re.a,{onClick:()=>{C(),n()},children:a.a._("Report a bug","header.accountsOptionsMenu.reportBug","menu item to show employee-only report bug modal")}),Object(_.jsx)(re.a,{dataTestId:"header-menu-options-settings",onClick:()=>M(247),url:P+"/settings",children:a.a._("Settings","header.accountsOptionsMenu.settings","menu item linking to your settings")}),Object(_.jsx)(l.a,{name:"web_m10n_business_access",children:({anyEnabled:e})=>e&&I&&Object(_.jsx)(re.a,{onClick:()=>M(11719),url:P+"/business/business-access/",children:Object(_.jsxs)(f.e,{display:"flex",alignItems:"center",children:[Object(_.jsx)(f.Y,{weight:"bold",children:a.a._("Business Access","Link to business Access Landing Page","A button that links to business access")}),Object(_.jsx)(f.e,{margin:1,marginStart:2,children:Object(_.jsx)(f.d,{text:a.a._("New","[m10n]header.accountsOptionsMenu.businessAccess.newBadge","badge to signify that this is a new product"),position:"middle"})})]})})}),h&&p&&p.is_partner&&"US"===p.country&&t&&1===t.country&&!u&&Object(_.jsx)(l.a,{name:"smb_referrals",children:({anyEnabled:e})=>e&&Object(_.jsx)(re.a,{onClick:m,children:Object(_.jsxs)(f.e,{direction:"column",display:"flex",children:[Object(_.jsx)(f.Y,{weight:"bold",children:a.a._("Refer a friend ðŸŽ‰","partner_nav.referrals.title","Upsell for referring a business")}),Object(_.jsx)(f.Y,{size:"sm",children:a.a._("Earn up to $600 in ads credit","partner_nav.referrals.subtitle","Additional context around referral, used with partner_nav.referrals.title")})]})})}),Object(_.jsx)(re.a,{onClick:()=>M(11345),url:P+"/edit",children:a.a._("Tune your home feed","header.accountsOptionsMenu.homefeedTuner","menu item linking to home feed editor")}),(i||r)&&(E=7,!t||Object(b.a)((t||{}).actions||[],E))&&Object(_.jsx)(re.a,{dataTestId:"header-menu-options-ads-support",icon:"externalLink",onClick:()=>M(10106),url:o.a.settings.PARTNER_SITE_ADS_SUPPORT_URL,children:a.a._("Ads support","header.aaccountsOptionsMenu.adsSupport","menu item linking to ads support")}),Object(_.jsx)(re.a,{icon:"externalLink",onClick:()=>M(11200),url:o.a.settings.HELP_CENTER_REQUEST_A_FEATURE+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",children:a.a._("Request a feature","header.accountsOptionsMenu.requestAFeature","menu item linking to request a feature page in help center")}),Object(_.jsx)(re.a,{dataTestId:"header-menu-options-help",icon:"externalLink",onClick:()=>M(8002),url:o.a.settings.HELP_URL+"?source=gear_menu_web",children:a.a._("Get help","header.accountsOptionsMenu.getHelp","menu item linking to the help center")}),Object(_.jsx)(re.a,{dataTestId:"header-menu-options-tos",icon:"externalLink",onClick:()=>M(8004),url:o.a.settings.POLICY_PRIVACY_URL,children:a.a._("See terms and privacy","header.accountsOptionsMenu.tosPrivacy","menu item linking to our terms and privacy")}),Object(_.jsx)(xe.a,{children:({onClick:e})=>Object(_.jsx)(re.a,{dataTestId:"header-menu-options-logout",onClick:e,children:a.a._("Log out","header.accountsOptionsMenu.logout","menu item that logs you out of your Pinterest account")})})]})]});var E}function Se(e){const{advertiser:t,closeFlyout:n,isAdsSite:s,isAdsNavMenuEnabled:i,isAnalyticsSite:r,isTrendsSite:a,isManagedAdvertiser:c,isWwwSite:o,onStoryPinRequestAccessMenuItemClick:d,referralModalClick:l,user:u}=e;return Object(_.jsxs)(f.e,{maxWidth:360,minWidth:180,width:"100%",children:[o&&Object(_.jsx)(Oe,{closeFlyout:n}),Object(_.jsx)(f.e,{marginTop:3,children:Object(_.jsx)(_e,{advertiser:t,closeFlyout:n,isAdsNavMenuEnabled:i,isAdsSite:s,isAnalyticsSite:r,isTrendsSite:a,isManagedAdvertiser:c,isWwwSite:o,onStoryPinRequestAccessMenuItemClick:d,referralModalClick:l,user:u})})]})}var Ae=n("cZbD");function ve(e){const t=Object(ce.a)(),{data:n}=Object(Ae.d)();Object(s.useEffect)(()=>(t.isAuth&&Object(le.g)(t,n),()=>{Object(le.i)("flyout.dismiss")}),[]);const{advertiser:i,anchor:r,isAdsSite:a,isAdsNavMenuEnabled:c,isAnalyticsSite:o,isTrendsSite:d,isManagedAdvertiser:l,isWwwSite:u,onDismiss:b,onStoryPinRequestAccessMenuItemClick:h,referralModalClick:j,user:m}=e;return Object(_.jsx)(U.a,{anchor:r,idealDirection:"down",onDismiss:b,size:292,children:Object(_.jsx)(Se,{advertiser:i,closeFlyout:b,isAdsNavMenuEnabled:c,isAdsSite:a,isAnalyticsSite:o,isTrendsSite:d,isManagedAdvertiser:l,isWwwSite:u,onStoryPinRequestAccessMenuItemClick:h,referralModalClick:j,user:m})})}var we=n("BT4Z"),Ce=n("ljoO"),Me=n("4cpq"),Pe=n("isp9"),ke=n("WnNx");function Ie(e){const t=Object(i.useDispatch)(),n=Object(i.useSelector)(({ui:{header:{showAccountMenuFlyout:e}}})=>e),r=Object(de.i)(),c=e=>{t(e?Object(ke.c)():Object(ke.a)())},{anyEnabled:o}=Object(k.d)("web_m10n_business_access"),[d,l]=Object(s.useState)(!1),[u,b]=Object(s.useState)(!1),[h,j]=Object(s.useState)(!1),m=Object(ce.a)(),p=Object(s.useRef)(),{advertiser:g,isAdsSite:O,isAdsNavMenuEnabled:y,isAnalyticsSite:x,isTrendsSite:S,isManagedAdvertiser:A,isWwwSite:v,user:C}=e;return Object(s.useEffect)(()=>{m.partner&&m.partner.is_linked_business&&b(!0)},[]),Object(_.jsxs)(fe.a,{children:[Object(_.jsx)(f.e,{ref:p,"data-test-id":"header-accounts-options-button",children:Object(_.jsx)(f.v,{accessibilityLabel:a.a._("Accounts and more options","header.accountsOptionsMenu.accountsOptionsMenuButton","accessibility label for the button that shows the accounts/options menu"),icon:"arrow-down",iconColor:n?"darkGray":"gray",onClick:()=>{c(!n),b(!1)},size:"xs"})}),d&&C&&g&&Object(_.jsx)(we.a,{senderId:C.id,senderAdvertiserId:g.id,onDismiss:()=>{l(!1)}}),h&&Object(_.jsx)(Ce.default,{onDismiss:()=>j(!1)}),n&&Object(_.jsx)(Me.a,{id:"HeaderAccountsOptionsFlyout",children:Object(_.jsx)(ve,{advertiser:g,anchor:p.current,isAdsNavMenuEnabled:y,isAdsSite:O,isAnalyticsSite:x,isTrendsSite:S,isManagedAdvertiser:A,isWwwSite:v,onDismiss:()=>c(!1),onStoryPinRequestAccessMenuItemClick:()=>{Object(w.b)(101,{element:12231,view:7}),j(!0)},referralModalClick:()=>{l(!0)},user:C})}),u&&Object(_.jsx)(Me.a,{id:"LinkedBusinessAccountFlyout",children:Object(_.jsx)(D.a,{anchor:p.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),o&&Object(Pe.g)(r)&&Object(_.jsx)(D.a,{anchor:p.current,idealDirection:"left",experienceIds:[503137],placementId:1000303})]})}var Ee=n("znL5"),Re=(n("jlhf"),n("rYoy")),Te=n("m7mp"),Le=n("a3v+"),Ne=n("TN0d"),He=n("vvax"),De=n("dVZn"),Ue=n("AJ39"),Be=n("L2iP"),ze=n("HhbH"),Fe=n("YAa9"),qe=n("nGHF");function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=Object(s.lazy)(()=>n.e("SearchAutocorrectCommon").then(n.bind(null,"Kv0b"))),We=Object(s.lazy)(()=>n.e("SearchNagCommon").then(n.bind(null,"7cjd")));class Xe extends s.Component{constructor(...e){super(...e),Ye(this,"state",{isSmallScreen:!1,nag:null,scope:null,showSearchIconOnly:!0,typo:null}),Ye(this,"mounted",!1),Ye(this,"handleResize",J()(()=>{window.innerWidth<1210?this.setState({isSmallScreen:!0}):this.setState({isSmallScreen:!1})},100)),Ye(this,"fetchUserAccounts",()=>{const{userAccountsRetrieved:e,viewer:t}=this.props;Object(Fe.a)(t,!0).then(t=>{e(t)})}),Ye(this,"shouldShowHeaderMessage",({nag:e,typo:t})=>!(!e&&!t)),Ye(this,"isActionPermitted",e=>{const{legacyServerContext:t}=this.props;return!(!t.is_authenticated||t.advertiser)||Object(b.a)((t.advertiser||{}).actions||[],e)}),Ye(this,"autocorrectSubscriber",null),Ye(this,"nagSubscriber",null),Ye(this,"profileRef",Object(s.createRef)()),Ye(this,"logoRef",Object(s.createRef)())}componentDidMount(){this.mounted=!0,this.fetchUserAccounts(),this.autocorrectSubscriber=Ne.b.subscribe("searchHeaderMessage","searchHeaderMessageAutoCorrect",(e,t,{typo:n,scope:s})=>{this.setState({typo:n,scope:s})}),this.nagSubscriber=Ne.b.subscribe("searchHeaderMessage","searchHeaderMessageNag",(e,t,{nag:n})=>{this.setState({nag:n})}),this.handleResize(),window.addEventListener("resize",this.handleResize)}componentDidUpdate(e,t){if(this.props.onHeaderMessageToggle){const e=this.shouldShowHeaderMessage(this.state);e!==this.shouldShowHeaderMessage(t)&&this.props.onHeaderMessageToggle(e)}this.props.location.pathname!==e.location.pathname&&this.setState({typo:null,scope:null,nag:null})}componentWillUnmount(){this.autocorrectSubscriber&&(this.autocorrectSubscriber.unsubscribe(),delete this.autocorrectSubscriber),this.nagSubscriber&&(this.nagSubscriber.unsubscribe(),delete this.nagSubscriber),window.removeEventListener("resize",this.handleResize),this.mounted=!1}isSterlingSite(e){return"STERLING"===e}isAnalyticsSite(e){return"ANALYTICS"===e}isTrendsSite(e){return"TRENDS"===e}render(){const{advertiserSwitcherDropdown:e,businessUser:t,currentSite:n,className:s,history:i,isShoppingCatalogs:r,legacyServerContext:c,location:d,nags:u,suppressSearchBox:b,user:h}=this.props,j=d.pathname.split("/");let m;4===j.length&&"pin"===j[1]&&j[2].length>10&&(m=j[2]);const p=h&&h.data&&h.data.pin_count,{nag:g,scope:O,showSearchIconOnly:y,typo:x}=this.state,{advertiser:S,is_sterling_on_steroids:A,is_managed_advertiser:v,sterling_on_steroids_ldap:w,user:M}=c,P=this.isSterlingSite(n),k=this.isAnalyticsSite(n),I=this.isTrendsSite(n),E=(c.enabled_advertiser_countries||[]).includes(c.user.country),T=A&&M&&M.is_partner;let L="/admin/oauth/logout/?redirect=%2Fadmin%2F",D="/admin/oauth/logout/";P||(L=o.a.settings.ADS_SITE_URL+L,D=o.a.settings.ADS_SITE_URL+D);const U=this.isActionPermitted(5),B=!(P||k||A||I),z=B&&!v&&void 0!==p&&p>0,F="/admin/"!==d.pathname,q=!!M.domain_verified&&!!M.domain_url,Y=h&&h.data&&h.data.show_engagement_tab,G=a.a._("You ({{ldap}}) are viewing: {{name}}","[m10n]adminMode.impersonationLabel.sosV1","Admin Mode (SoS) header telling who (ldap) is impersonating the advertiser (name) using SoSv1"),{isInBiznuxFullscreen:$}=this.props;return Object(_.jsx)("div",{className:V()(s,{PartnerHeader:T}),children:Object(_.jsx)(X,{path:d.pathname,children:({page:s})=>Object(_.jsxs)(f.e,{color:"white",column:12,children:[u,Object(_.jsx)(f.e,{children:Object(_.jsxs)("div",{className:V()({adminModeBackground:T}),children:[Object(_.jsx)(f.e,{"data-test-id":"pro-partner-header",paddingX:3,paddingY:1,children:Object(_.jsxs)(f.e,{alignItems:"center",column:12,display:"flex",height:72,children:[Object(_.jsx)(N,{advertiser:S,isAdsSite:P,isAnalyticsSite:k,isTrendsSite:I}),U&&!$&&Object(_.jsx)(l.a,{name:"web_story_pin_ga_advertiser_rollout",children:()=>Object(_.jsx)(W,{advertiser:S,eligibleForQuickPromotePinSelection:z,isAdsNavMenuEnabled:E,isAdsSite:P,isAnalyticsSite:k,isTrendsSite:I,isAuthenticated:c.is_authenticated,isSterlingOnSteroids:A,isWwwSite:B,pinId:m,user:M},"CreateMenuController")}),this.isActionPermitted(55)&&!$&&Object(_.jsx)(R,{advertiser:S,isAdsSite:P,isAnalyticsSite:k,user:M}),(this.isActionPermitted(11)||this.isActionPermitted(32))&&!$&&Object(_.jsx)(C,{advertiser:S,isAdsNavMenuEnabled:E,isAdsSite:P,isShoppingCatalogs:r}),e,b||$?Object(_.jsx)(f.e,{flex:"grow"}):i.push&&Object(_.jsx)(Le.a,{isPartner:!0,handleIconOnlyChange:e=>this.setState({showSearchIconOnly:e}),iconOnly:y,widthType:"sm"}),A&&Object(_.jsxs)(f.e,{alignItems:"center",display:"flex",children:[Object(_.jsx)(f.Y,{weight:"bold",children:Object(He.b)(G,{ldap:w,name:S?S.name:M.full_name})}),F&&Object(_.jsx)(f.e,{marginStart:2,marginEnd:2,children:Object(_.jsx)(f.A,{href:L,children:Object(_.jsx)(f.f,{inline:!0,size:"sm",text:a.a._("Admin Dashboard","[m10n]","[m10n]")})})}),Object(_.jsx)(f.e,{marginStart:F?0:2,children:Object(_.jsx)(f.A,{href:D,children:Object(_.jsx)(f.f,{color:"red",inline:!0,size:"sm",text:a.a._("Exit Admin Mode","[m10n]","[m10n]")})})})]}),!$&&Object(_.jsx)(De.a,{value:{currentSite:n},children:Object(_.jsx)(H.a,{})}),B&&(q||Y)&&!$&&Object(_.jsx)(l.a,{name:"web_partner_engagement",isEligible:!q&&Y,children:({anyEnabled:e})=>Object(_.jsx)(l.a,{name:"web_native_engagement_tab",isEligible:q,children:({anyEnabled:t})=>t||e?Object(_.jsx)(ze.c,{compactMode:!0,isWwwSite:B,selected:"engagement"===s}):q&&Object(_.jsx)(ze.a,{compactMode:!0,isWwwSite:B,selected:"engagement"===s})})}),Object(_.jsx)(f.e,{ref:this.profileRef,children:Object(_.jsx)(Te.a,{children:Object(_.jsx)(Ee.a,{isAdsSite:P,isAnalyticsSite:k,isSelected:"profile"===s,isTrendsSite:I})})}),Object(_.jsx)(Ie,{advertiser:S,isAdsNavMenuEnabled:E,isAdsSite:P,isAnalyticsSite:k,isManagedAdvertiser:!!(t&&t.data&&t.data.fast_advertiser_info_has_any_managed_advertisers),isTrendsSite:I,isWwwSite:B,user:M})]})}),this.shouldShowHeaderMessage({typo:x,nag:g})&&Object(_.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:{...Be.g}},minHeight:Be.e-Be.d,paddingX:2,children:[x&&O?Object(_.jsx)(Re.a,{children:Object(_.jsx)(Ge,{scope:O,typo:x})}):null,g?Object(_.jsx)(Re.a,{children:Object(_.jsx)(We,{messages:g.messages,sensitivity:g.sensitivity})}):null]})]})})]})})})}}const $e={userAccountsRetrieved:Ue.f};t.default=Object(F.compose)(Object(i.connect)((function(e){return{viewer:e.viewer,isInBiznuxFullscreen:e.businessNux.isInBiznuxFullscreen}}),$e),Object(z.a)(29),Object(P.b)({name:"UserResource",key:"user",options:({viewer:e})=>({username:e.username,field_set_key:"profile"}),acceptPrefetch:!0}),Object(P.b)({name:"UserResource",key:"businessUser",options:({viewer:e})=>({user_id:e.id,field_set_key:"linked_partner"})}),de.l)((function(e){const t=Object(qe.b)();return Object(_.jsx)(Xe,{...e,toastManagerContext:t})}))},ZcPj:function(e,t,n){},ljoO:function(e,t,n){n.r(t),n.d(t,"default",(function(){return p}));var s=n("q1tI"),i=n("Ye/N"),r=n("EC51"),a=n("TgLd"),c=n("eOdZ"),o=n("kmwA"),d=n("M1Uz"),l=n("vvax"),u=n("U4JR"),b=n("nGHF"),h=n("n6mq"),j=n("nKUr");const m={__style:{borderBottom:"1px solid #EFEFEF",paddingLeft:"40px"}};function p(e){const[t,n]=Object(s.useState)(!1),{onDismiss:p}=e,{showOneToast:g}=Object(b.b)();return Object(j.jsx)(a.b,{accessibilityModalLabel:i.a._("Story Pin Access Modal","storyPinAccess.modal.accessibilityLabel","Modal used as an upsell for Story Pin Access"),heading:Object(j.jsx)(h.e,{paddingX:4,paddingY:7,children:Object(j.jsx)(h.t,{align:"center",size:"sm",children:t?i.a._("Thank you, your request has been received","storyPinAccess.modal.requestReceivedHeader","Header for Story Pin Access modal after request has been submitted"):i.a._("Story Pin Beta Program","storyPinAccess.modal.header","Header for Story Pin Access modal header")})}),footer:Object(j.jsx)(h.e,{display:"flex",justifyContent:t?"center":"end",children:Object(j.jsx)(h.f,{inline:!0,color:"red",onClick:t?p:()=>{c.a.create("StoryPinRequestAccessResource").callCreate().then(()=>n(!0)).catch(({message:e})=>{(e=>{g(({onHide:t})=>Object(j.jsx)(d.a,{color:"red",duration:3e3,onHide:t,text:e}))})(e),p()}),Object(u.b)(101,{component:13792,element:12233,view:132})},size:"lg",text:t?i.a._("Got it","storyPinAccess.modal.acceptButton","Story Pin Access modal accept button"):i.a._("Request access","storyPinAccess.modal.requestAccessButton","Story Pin Access modal request access button")})}),onDismiss:p,size:t?"sm":"md",children:t?Object(j.jsx)(h.e,{alignItems:"center","data-test-id":"request-received",display:"flex",justifyContent:"center",children:Object(j.jsx)(h.e,{paddingX:4,width:508,children:Object(j.jsx)(h.Y,{align:"center",children:i.a._("You will be notified in-app later today to see if youâ€™ve been approved to start creating Story Pins.","storyPinAccess.modal.requestAccessText","Text informing users their request for Story Pins access has been sent.")})})}):Object(j.jsxs)(h.e,{alignItems:"start","data-test-id":"story-pin-request-access",display:"flex",children:[Object(j.jsx)(h.e,{alignItems:"center",display:"flex",color:"lightGray",height:410,justifyContent:"center",paddingX:8,paddingY:12,width:292,children:Object(j.jsx)(h.e,{overflow:"hidden",rounding:4,width:196,children:Object(j.jsx)(h.w,{alt:"LandScape",src:"https://i.pinimg.com/564x/52/d8/ca/52d8cafbd429f9659c7ce3c17689854e.jpg",naturalHeight:349,naturalWidth:196})})}),Object(j.jsxs)(h.e,{dangerouslySetInlineStyle:m,direction:"column",display:"flex",height:410,padding:7,width:"100%",children:[Object(j.jsx)(h.e,{paddingY:2,children:Object(j.jsx)(h.Y,{children:Object(l.b)(i.a._("Story Pins are multi-page Pins that can combine videos, photos and text. Story Pins arenâ€™t available to everyone yet. {{learn}} about our newest format!","profileHeader.experience.tooltipText","Text informing users about Story Pins"),{learn:Object(j.jsx)(r.a,{inline:!0,accessibilityLabel:i.a._("Learn more about Story Pins","storyPinAccess.modal.learnMoreAccessibilityLabel","Prompt to help inform users curious about Story Pins"),href:o.a.settings.STORY_PINS_SPEC_URL,target:"blank",children:Object(j.jsx)(h.Y,{inline:!0,weight:"bold",children:i.a._("Learn more","storyPinAccess.modal.firstParagraph","Text informing users about Story Pins")})})})})}),Object(j.jsx)(h.e,{paddingY:2,children:Object(j.jsx)(h.Y,{children:i.a._("You may or may not be granted access after requesting.","storyPinAccess.modal.secondParagraph","Text informing users about Story Pins")})})]})]})})}},"uoE/":function(e,t,n){n.d(t,"a",(function(){return s}));const s=(e,t)=>e.includes(t)||e.includes(80)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/292-0f6fc693f19abe500394.mjs.map