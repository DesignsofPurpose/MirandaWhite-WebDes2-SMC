(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ShopButtonCommon"],{RaHp:function(n,e,t){t.r(e),t.d(e,"ShopButton",(function(){return h}));var i=t("q1tI"),o=t("zJ39"),a=t("Ye/N"),s=t("ihsa"),l=t("uhAL"),c=t("U4JR"),r=t("n6mq"),u=t("qLDv"),p=t("EC67"),d=t("nKUr");function h({closeupImageHovered:n=!1,history:e,hovered:t,onAnimationComplete:p,onClick:h,onHover:f,pin:y,searchQuery:m,shopButtonAnimationType:g,trafficSource:O,type:w,viewParameter:S}){const b=Object(i.useRef)(),[j,_]=Object(i.useState)(),[x,v]=Object(i.useState)(),[I,k]=Object(i.useState)();Object(i.useEffect)(()=>{"stela"===w&&Object(c.b)(120,{element:11838,image_signature:y.image_signature,view:3}),"stl"===w&&Object(c.b)(120,{element:11963,image_signature:y.image_signature,view:3})},[w]),Object(i.useEffect)(()=>{if(b.current&&!j){const n=b.current.getBoundingClientRect().width;n&&_(n)}},[t,b,j]);Object(i.useEffect)(()=>{"in"===g||t?(v("shopButtonSlideIn .3s ease-in-out forwards"),k("stelaSlideIn .3s ease-in-out 200ms forwards")):"out"===g||!1===t?(v("shopButtonSlideOut .3s ease-in-out forwards"),k("stelaSlideOut .3s ease-in-out forwards")):"inOut"===g?(v("shopButtonSlideInThenOut 3s ease-in-out forwards"),k("stelaSlideInThenOut 3s ease-in-out 200ms forwards")):"none"===g&&(v("none"),k("none"))},[t,g]);const{visual_objects:B}=y||{},L=!!B&&Object(l.c)(B)||[];return Object(d.jsxs)(r.X,{onMouseEnter:f,onMouseLeave:f,onTap:L.length<1&&"stela"===w?()=>{"stela"===w&&Object(c.b)(101,{view:3,element:11838,image_signature:y.image_signature||""});let n=`/pin/${y.id}/related-products/?entrySource=shopping`;m&&(n=n.concat("&q="+m)),O&&(n=n.concat("&rs="+O)),e&&e.push(n)}:h,children:[Object(d.jsx)(s.a,{unsafeCSS:Object(o.a)(j||0)}),Object(d.jsxs)(r.e,{"data-test-id":"shop-button",alignItems:"center",display:"flex",height:u.a,minWidth:u.a,onAnimationEnd:()=>{p&&"inOut"===g&&p()},justifyContent:"start",rounding:"pill",width:u.a,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",animation:x}},children:[Object(d.jsx)(r.e,{dangerouslySetInlineStyle:{__style:{paddingLeft:"12px"}},children:Object(d.jsx)(r.u,{accessibilityLabel:a.a._("Shopping","closeup.overlay.shopIcon","Clicking here will open a feed of similiar shoppable Pins"),icon:"tag",color:"darkGray",size:18})}),Object(d.jsx)(r.e,{ref:b,dangerouslySetInlineStyle:{__style:{animation:I,whiteSpace:"nowrap",paddingLeft:"8px",opacity:"none"===g?0:void 0}},children:Object(d.jsx)(r.Y,{size:"lg",weight:"bold",children:"stela"===w?a.a._("View similar products","closeup.shopButton.similiarProducts","clicking on this text will open a feed similiar shoppable Pins"):a.a._("Shop this look","closeup.overlay.stl.shopButtonText","clicking on this text will show the stl flyout with exact match products")})})]})]})}e.default=Object(p.l)(h)},zJ39:function(n,e,t){var i=t("qLDv");e.a=n=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 44px;\n    }\n\n    15% {\n      width: ${n+i.a}px;\n    }\n\n    85% {\n      width: ${n+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 44px;\n    }\n\n    100% {\n      width: ${n+i.a}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${n+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/ShopButtonCommon-605babbbfcd5280cf34e.mjs.map